USE master;
GO

CREATE SERVER AUDIT Audit_TacoDB1
TO FILE (FILEPATH = 'C:\SQLAudit\')  -- Change this path, ensure SQL has write permissions
WITH (ON_FAILURE = CONTINUE);
GO

ALTER SERVER AUDIT Audit_TacoDB1
WITH (STATE = ON);  -- Turn it ON
GO


USE taco_treceability;
GO

CREATE DATABASE AUDIT SPECIFICATION Audit_AllTables
FOR SERVER AUDIT Audit_TacoDB1
-- Track all inserts
ADD (INSERT ON DATABASE::taco_treceability BY [public]),
-- Track all updates
ADD (UPDATE ON DATABASE::taco_treceability BY [public]),
-- Track all deletes
ADD (DELETE ON DATABASE::taco_treceability BY [public])
WITH (STATE = ON);
GO
Msg 2812, Level 16, State 62, Line 5
Could not find stored procedure 'Audit_TacoDB'.

Completion time: 2025-08-23T14:29:14.7112686+05:30
