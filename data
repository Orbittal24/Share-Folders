<div class="container-fluid mt-4">

    <!-- PAGE TITLE -->
    <h3 style="color: green; margin-bottom: 25px;">
        HV Rework Screwing Status
    </h3>

    <!-- FORM ROW -->
    <div class="row align-items-center">

        <!-- Battery Type -->
        <div class="col-md-3">
            <label style="font-weight: 600;">Battery Type</label>
            <select id="batteryType" class="form-control">
                <option value="">Select Battery</option>
                <option value="Bajaj 8.9">Bajaj 8.9</option>
                <option value="Bajaj 5.8">Bajaj 5.8</option>
                <option value="Bajaj 12.1">Bajaj 12.1</option>
            </select>
        </div>

        <!-- 6 Digit Number -->
        <div class="col-md-3">
            <label style="font-weight: 600;">6 Digit Number</label>
            <input id="batteryNumber" type="text" maxlength="6"
                   class="form-control" placeholder="Enter 6 digit">
        </div>

        <!-- Status -->
        <div class="col-md-3">
            <label style="font-weight: 600;">Status</label>
            <select id="statusDropdown" class="form-control">
                <option value="reworked">Reworked</option>
            </select>
        </div>

        <!-- Submit Button -->
        <div class="col-md-3 d-flex align-items-end" style="margin-top: 24px;">
            <button class="btn btn-success btn-block" onclick="submitData()">
                Submit
            </button>
        </div>

    </div>
</div>

<script>
    const socket = io();

    function submitData() {
        const batteryType = document.getElementById("batteryType").value;
        const batteryNumber = document.getElementById("batteryNumber").value;
        const status = document.getElementById("statusDropdown").value;

        if (!batteryType) return alert("Select battery type");
        if (!/^\d{6}$/.test(batteryNumber)) return alert("Enter valid 6-digit number");

        socket.emit("submit_rework_data", {
            batteryType,
            batteryNumber,
            status
        });

        alert("Data sent!");
    }
</script>
