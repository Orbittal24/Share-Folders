DUPLICATE_TTL_SECONDS = 5 * 24 * 60 * 60  # 5 days
ðŸ”§ ONE-LINE CHANGE (this is the only change needed)
Replace this line:
python
Copy code
r.set(f"cell:{qr}", json.dumps(row_dict))
With this:
python
Copy code
r.setex(
    f"cell:{qr}",
    DUPLICATE_TTL_SECONDS,
    json.dumps(row_dict)
)
Why this works
SETEX = SET + EXPIRE

Redis will automatically delete cell:{qr} after 5 days

N
