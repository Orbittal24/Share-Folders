<!-- Include SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
socket.on("foam_interlock_status", function (foam_numb) {
    console.log("foam_numb length:", foam_numb.length);

    if (foam_numb.length === 0) {
        // Show SweetAlert popup and refresh page on OK
        Swal.fire({
            icon: 'error',
            title: 'Foam Missing',
            text: 'Foam is not linked with the Pack',
            confirmButtonText: 'OK',
            allowOutsideClick: false,
            allowEscapeKey: false,
            position: 'center'
        }).then(() => {
            // Refresh page regardless of result
            location.reload();
        });
    } else {
        // Proceed if foam is linked
        console.log("Foam linked, proceeding...", glob_pack, glob_packName);
        socket.emit("getGlobalIngersollData", glob_packName, glob_pack);
    }
});
</script>
