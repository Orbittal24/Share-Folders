INSERT

CREATE TRIGGER trg_ocv_data_insert
ON taco_treceability.ocv_machine_data
AFTER INSERT
AS
BEGIN
    INSERT INTO taco_treceability.ocv_machine_data_mirror
    (
        sr_no,
        cell_qrcode,
        voltage,
        ir,
        today_date,
        updated_time,
        machine_location,
        shift,
        used_on_line,
        kvalue,
        grade,
        cell_capacity,
        cell_class
    )
    SELECT 
        sr_no,
        cell_qrcode,
        voltage,
        ir,
        today_date,
        updated_time,
        machine_location,
        shift,
        used_on_line,
        kvalue,
        grade,
        cell_capacity,
        cell_class
    FROM inserted;
END;
GO


UPDATE

CREATE TRIGGER trg_ocv_data_update
ON taco_treceability.ocv_machine_data
AFTER UPDATE
AS
BEGIN
    INSERT INTO taco_treceability.ocv_machine_data_mirror
    (
        sr_no,
        cell_qrcode,
        voltage,
        ir,
        today_date,
        updated_time,
        machine_location,
        shift,
        used_on_line,
        kvalue,
        grade,
        cell_capacity,
        cell_class
    )
    SELECT 
        sr_no,
        cell_qrcode,
        voltage,
        ir,
        today_date,
        updated_time,
        machine_location,
        shift,
        used_on_line,
        kvalue,
        grade,
        cell_capacity,
        cell_class
    FROM inserted;
END;
GO
