USE [taco_treceability]
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [taco_treceability].[trg_InsertTorqueDetailsEIP]
ON [taco_treceability].[torque_details_EIP]
AFTER INSERT
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO [taco_treceability].[torque_details_EIP_mirror] (
        [pack_name],
        [module_name],
        [torque],
        [angle],
        [torque_status],
        [date_dd],
        [shift],
        [module_barcode],
        [process_status],
        [pack_no],
        [rework_status],
        [bypass_operator],
        [bypass_reason],
        [process_name],
        [station_name],
        [smoke_sensor_linked_pack_no]
    )
    SELECT
        [pack_name],
        [module_name],
        [torque],
        [angle],
        [torque_status],
        [date_dd],
        [shift],
        [module_barcode],
        [process_status],
        [pack_no],
        [rework_status],
        [bypass_operator],
        [bypass_reason],
        [process_name],
        [station_name],
        [smoke_sensor_linked_pack_no]
    FROM inserted
    WHERE [pack_name] IN ('NOVA Prismatic LR', 'Tamor');
END;
GO
