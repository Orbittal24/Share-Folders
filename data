insert

CREATE TRIGGER trg_ocv_machine_data_xng_after_insert
ON taco_treceability.ocv_machine_data_xng
AFTER INSERT
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO taco_treceability.ocv_machine_data_xng_mirrior
    (
        cell_qrcode, voltage, ir, today_date, updated_time, machine_location,
        shift, used_on_line, kvalue, grade, cell_capacity, cell_class,
        cell_thikness, cell_nigative_voltage, laser_status
    )
    SELECT
        cell_qrcode, voltage, ir, today_date, updated_time, machine_location,
        shift, used_on_line, kvalue, grade, cell_capacity, cell_class,
        cell_thikness, cell_nigative_voltage, laser_status
    FROM inserted;
END;
GO


//////////////////////////////////////////////

update

CREATE TRIGGER trg_ocv_machine_data_xng_after_update
ON taco_treceability.ocv_machine_data_xng
AFTER UPDATE
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO taco_treceability.ocv_machine_data_xng_mirrior
    (
        cell_qrcode, voltage, ir, today_date, updated_time, machine_location,
        shift, used_on_line, kvalue, grade, cell_capacity, cell_class,
        cell_thikness, cell_nigative_voltage, laser_status
    )
    SELECT
        cell_qrcode, voltage, ir, today_date, updated_time, machine_location,
        shift, used_on_line, kvalue, grade, cell_capacity, cell_class,
        cell_thikness, cell_nigative_voltage, laser_status
    FROM inserted;
END;
GO

