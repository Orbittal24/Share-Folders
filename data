<!-- Include SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  socket.on("foam_interlock_status", function (foam_numb) {
    console.log("foam_numb length:", foam_numb.length);

    if (foam_numb.length === 0) {
      // SweetAlert2 popup in center
      Swal.fire({
        icon: "error",
        title: "Foam Missing",
        text: "Foam is not linked with the Pack",
        confirmButtonText: "OK",
        allowOutsideClick: false, // disable click outside to close
        allowEscapeKey: false,    // disable escape key
        position: 'center'
      }).then((result) => {
        if (result.isConfirmed) {
          // Refresh page on clicking OK
          location.reload();
        }
      });
    } else {
      // Call another socket when foam is linked
      console.log("Foam linked, proceeding...", pack, Module_count[3]);
      socket.emit("getGlobalIngersollData", pack, Module_count[3]);
    }
  });
</script>
